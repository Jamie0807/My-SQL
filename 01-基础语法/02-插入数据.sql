-- ==========================================
-- 02. 插入数据 (INSERT)
-- 练习日期: 
-- ==========================================

USE school;

-- 1. 基本插入语法
-- ==========================================

-- 插入一条完整记录
INSERT INTO students (name, gender, birth_date, email, phone, gpa)
VALUES ('张三', '男', '2000-05-15', 'zhangsan@example.com', '13800138000', 3.75);

-- 插入多条记录
INSERT INTO students (name, gender, birth_date, email, phone, gpa) VALUES
('李四', '女', '2001-03-20', 'lisi@example.com', '13800138001', 3.85),
('王五', '男', '2000-08-10', 'wangwu@example.com', '13800138002', 3.50),
('赵六', '女', '2001-01-05', 'zhaoliu@example.com', '13800138003', 3.92),
('钱七', '男', '2000-11-25', 'qianqi@example.com', '13800138004', 3.60);

-- 不指定列名（需要提供所有列的值，按顺序）
-- 注意：这种方式不推荐，因为表结构变化时容易出错


-- 2. 插入部分字段（其他使用默认值或NULL）
-- ==========================================

INSERT INTO students (name, gender, birth_date)
VALUES ('孙八', '女', '2001-06-15');

-- 使用 DEFAULT 关键字
INSERT INTO students (name, gender, birth_date, enrollment_date)
VALUES ('周九', '男', '2000-12-01', DEFAULT);


-- 3. 插入课程数据
-- ==========================================

INSERT INTO courses (course_name, credits, teacher, department) VALUES
('数据库原理', 4, '王教授', '计算机科学'),
('高等数学', 5, '李教授', '数学系'),
('大学英语', 3, '张老师', '外语学院'),
('数据结构', 4, '陈教授', '计算机科学'),
('线性代数', 4, '刘教授', '数学系'),
('操作系统', 4, '赵教授', '计算机科学'),
('计算机网络', 3, '周老师', '计算机科学'),
('离散数学', 3, '吴教授', '数学系');


-- 4. 插入选课记录
-- ==========================================

INSERT INTO enrollments (student_id, course_id, semester, grade) VALUES
(1, 1, '2024-秋季', 88.5),
(1, 2, '2024-秋季', 92.0),
(2, 1, '2024-秋季', 95.5),
(2, 3, '2024-秋季', 87.0),
(3, 2, '2024-秋季', 78.5),
(3, 4, '2024-秋季', 85.0),
(4, 1, '2024-秋季', 91.5),
(4, 5, '2024-秋季', 89.0),
(5, 3, '2024-秋季', 82.5);


-- 5. 从其他表复制数据插入
-- ==========================================

-- 创建一个备份表
CREATE TABLE students_backup AS 
SELECT * FROM students WHERE 1=0;  -- 只复制结构，不复制数据

-- 从原表插入数据到备份表
INSERT INTO students_backup 
SELECT * FROM students WHERE gpa >= 3.8;


-- 6. 插入时处理重复数据
-- ==========================================

-- 如果记录已存在则忽略（需要有唯一键或主键）
INSERT IGNORE INTO students (name, gender, email)
VALUES ('张三', '男', 'zhangsan@example.com');

-- 如果记录已存在则更新（MySQL特有语法）
INSERT INTO students (student_id, name, gender, email, gpa)
VALUES (1, '张三', '男', 'zhangsan@example.com', 3.80)
ON DUPLICATE KEY UPDATE gpa = 3.80;


-- 7. 查看插入的数据
-- ==========================================

SELECT * FROM students;
SELECT * FROM courses;
SELECT * FROM enrollments;


-- ==========================================
-- 练习题
-- ==========================================

/*
练习1: 插入以下5个学生的信息到 students 表：
- 刘十，女，2001-04-12，邮箱: liushi@example.com，GPA: 3.45
- 陈十一，男，2000-07-22，邮箱: chenxiyi@example.com，GPA: 3.88
- 杨十二，女，2001-09-30，邮箱: yangxer@example.com，GPA: 3.71
- 郑十三，男，2000-02-18，邮箱: zhengxsan@example.com，GPA: 3.33
- 黄十四，女，2001-11-08，邮箱: huangxsi@example.com，GPA: 3.95
*/

-- 在这里写你的答案




/*
练习2: 插入3门新课程：
- Python编程，3学分，教师：马老师，院系：计算机科学
- 概率论，4学分，教师：林教授，院系：数学系
- 大学物理，4学分，教师：徐教授，院系：物理系
*/

-- 在这里写你的答案




/*
练习3: 为学生1、2、3分别选修刚才添加的Python编程课程，
学期为"2025-春季"，暂不填写成绩
*/

-- 在这里写你的答案




/*
练习4: 尝试插入一个邮箱重复的学生，看看会发生什么
*/

-- 在这里写你的答案




-- ==========================================
-- 学习笔记
-- ==========================================

/*
重要概念：
1. INSERT INTO: 向表中插入新记录
2. VALUES: 指定要插入的值
3. 可以一次插入多行数据，提高效率
4. 自增字段不需要手动指定值
5. 有默认值的字段可以省略
6. INSERT IGNORE: 忽略重复键错误
7. ON DUPLICATE KEY UPDATE: 存在则更新

注意事项：
- 字符串和日期要用单引号括起来
- 数字不需要引号
- NULL 表示空值，不用引号
- 插入数据时要注意数据类型和约束
- 外键约束：子表的外键值必须在父表中存在

遇到的问题：


解决方案：


*/
